<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="description" content="A while ago I wrote about my ideas for a successor of today's computational notebooks. Since then I have made some progress on a prototype implementation, which is the topic of this post. Again I have made a companion screencast so that you can get a bett...">
    <meta name="author"      content="Konrad Hinsen">
    <meta name="keywords"    content="computational science">
    <link rel="icon"      href="/img/favicon.ico">
    <link rel="canonical" href="http://blog.khinsen.net/posts/2019/05/09/the-computational-notebook-of-the-future-part-2/">

    <title>The computational notebook of the future (part 2)</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/blog.css" rel="stylesheet">

    <!-- Custom styles for Frog-generated content -->
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
       window.hypothesisConfig = function () {
         return { showHighlights : true };
       };
       </script>
       <script defer src="https://hypothes.is/embed.js"></script>
  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
          <a class="blog-nav-item" href="/index.html">Home</a>
          <a class="blog-nav-item" href="/feeds/all.atom.xml">Atom</a>
          <a class="blog-nav-item" href="/feeds/all.rss.xml">RSS</a>
        </nav>
      </div>
    </div>

    <div class="container">

      <div class="blog-header">
        <h2 class="blog-title">Konrad Hinsen's Blog</h2>
      </div>

      <div class="row">

        <div class="col-sm-8 blog-main">


          <div class="blog-post">

  <h3 class="blog-post-title"><a href='/posts/2019/05/09/the-computational-notebook-of-the-future-part-2/'>The computational notebook of the future (part 2)</a></h3>
  <p class="blog-post-meta">
<time datetime="2019-05-09" pubdate="true">2019-05-09</time> :: <span class="tags"><a href="/tags/computational-science.html">computational science</a></span></p>

<p>A while ago I <a href="http://blog.khinsen.net/posts/2019/02/11/the-computational-notebook-of-the-future/">wrote about my ideas for a successor of today&rsquo;s computational notebooks.</a> Since then I have made some progress on a prototype implementation, which is the topic of this post. Again I have made a companion <a href="https://vimeo.com/339361206">screencast</a> so that you can get a better idea of how all this works in practice.</p>
<!-- more-->

<p>As a reminder, the two aspects of today&rsquo;s notebooks (<a href="https://www.wolfram.com/mathematica/">Mathematica</a>, <a href="https://jupyter.org/">Jupyter</a>, <a href="https://rmarkdown.rstudio.com/">R markdown</a>, <a href="https://orgmode.org/worg/org-contrib/babel/">Emacs/OrgMode</a>) that I consider harmful for scientific communication are:</p>

<ol>
 <li>
  <p>The linear structure of a notebook that forces the narrative to  follow the order of the computation.</p></li>
 <li>
  <p>The impossibility to refer to data and code in a notebook from the  outside, and in particular from another notebook, making reuse of  code and data impossible.</p></li></ol>

<p>Like the demo that I made last time, and which is best qualified as a quick hack, the computational document that I am presenting today is implemented in <a href="https://pharo.org/">Pharo</a> and builds on the <a href="https://gtoolkit.com/">Glamorous Toolkit</a>, which is an innovative development environment designed around the notion of &ldquo;moldable development&rdquo;, which means that developers should be able to adapt their tools to their specific needs with little effort. This is precisely what I have done. The code is <a href="https://github.com/activepapers/activepapers-pharo">on GitHub</a> and includes the example document from the demo.</p>

<p>Contrary to today&rsquo;s notebooks, my computational documents consist of two distinct layers, which I show for an example in the screencast. A <em>workflow layer</em> consists of <em>scripts</em> (short pieces of code) that compute <em>datasets</em> keep track of the data dependencies. The workflow layer can be visualized as a graph. Scripts and datasets make up a standard Pharo object that can be used as a building block in subsequent work, unlike the code and data in today&rsquo;s notebooks. For example, the Pharo expression <code>InfluenzaLikeIllnessInFrance data
absoluteIncidence</code> yields one of the data frames from my example document and can be used in any type of Pharo code, including code in another document.</p>

<p>On top of that workflow layer, there is a documentation layer consisting of a Wiki-style multi-page document in which each page can contain code snippets. These code snippets are intended for data presentation (plotting etc.) and for demonstrations (examples, verifications, etc.) They are not accessible from outside their pages, and they cannot change the datasets computed by the workflow. The documentation pages can refer to and include the datasets, the scripts, but also arbitrary other Pharo code. In particular, this allows including library code used by the workflow scripts in the documentation layer, as opposed to today&rsquo;s notebooks for which library code is undocumentable black-box code.</p>

<p>A third essential element is the <em>playground</em> attached to the workflow. This is where interactive exploration takes place. Code snippets in the playground can access datasets just like scripts, but they cannot modify them. The playground is meant both for authors and for readers. Authors develop scripts incrementally in the playground, and turn them into scripts (at the click of a button) when they are satisfied. Readers can write code snippets for exploring the data in more detail.</p>

<p>The code is currently &ldquo;demo quality&rdquo;, so please don&rsquo;t rely on it for your own research. Even the underlying GToolkit library is still advertised as alpha level. There is a reason for calling this the future rather than the present! However, there are a few conclusions that I am already willing to draw from this work:</p>

<ol>
 <li>
  <p>An authoring environment for computational documents should also  be a more general software development environment. If you have  to change tools for switching from library code to a computational  document or back, you have a technological barrier to overcome  that creates a mental separation between &ldquo;inside&rdquo; and &ldquo;outside&rdquo;,  whereas the science that you want to communicate is on both sides  of your barrier.</p></li>
 <li>
  <p>The emphasis on making all code and data explorable that has been  part of Smalltalk culture from the start is highly beneficial for  computational science as well. Notebook environments such as  Jupyter or RStudio feel extremely limited compared to the standard  Pharo environment, let alone the more advanced GToolkit.</p></li>
 <li>
  <p>Decomposing the computation into smaller independent scripts  with well-defined interfaces makes it more understandable.  In the traditional linear notebooks, you never know how far  further down a temporary variable will be used. You must  read the code from top to bottom to be sure not to miss  something. Likewise, separating &ldquo;essential&rdquo; computations  on the data from &ldquo;superficial&rdquo; computations such as plotting  makes the overall scientific logic stand out better.</p></li>
 <li>
  <p>A good authoring environment must support the full lifecycle of  computer-aided research, starting with interactive exploration and  iterating towards a computational document optimized for the  reader rather than the author. Today&rsquo;s notebooks do not provide  this support by sticking to a linear structure that is  satisfactory only in the initial stages of the lifecycle.</p></li></ol>

  <hr>

  <script type="text/javascript">
    !function(d,s,id){
        var js,fjs=d.getElementsByTagName(s)[0];
        if(!d.getElementById(id)){
            js=d.createElement(s);
            js.id=id;
            js.src="//platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);
        }
    }(document,"script","twitter-wjs");
  </script>
  <a href="https://twitter.com/share"
     class="twitter-share-button"
     data-url="http://blog.khinsen.net/posts/2019/05/09/the-computational-notebook-of-the-future-part-2/"
     data-dnt="true">
    "Tweet"</a>

  <div id="disqus_thread"></div>
  <script>
      /**
       *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
       *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
       */
      var disqus_config = function () {
          this.page.url = 'http://blog.khinsen.net/posts/2019/05/09/the-computational-notebook-of-the-future-part-2/';
          this.page.identifier = '/posts/2019/05/09/the-computational-notebook-of-the-future-part-2/';
      };
      (function() {  // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');

          s.src = '//khinsen.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
  </script>

  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  <ul class="pager">
  <li class="previous">
    <a href="/posts/2019/10/29/the-industrialization-of-scientific-research/">&larr; <em>The industrialization of scientific research</em></a>
  </li>
  <li class="next">
    <a href="/posts/2019/04/23/is-reproducibility-good-for-scientific-progress-a-paper-review/"><em>Is reproducibility good for scientific progress? (a paper review)</em> &rarr;</a>
  </li>
  </ul>

</div><!-- /.blog-post -->

          <!-- <nav> -->
          <!--   <ul class="pager"> -->
          <!--     <li><a href="/posts/2019/10/29/the-industrialization-of-scientific-research/">Previous</a></li> -->
          <!--     <li><a href="/posts/2019/04/23/is-reproducibility-good-for-scientific-progress-a-paper-review/">Next</a></li> -->
          <!--   </ul> -->
          <!-- </nav> -->

        </div><!-- /.blog-main -->

        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          <div class="sidebar-module sidebar-module-inset">
            <h4>Note</h4>
            <p>This blog starts in November 2015. For older posts, see my
               <a href="http://khinsen.wordpress.com/">old WordPress blog</a>.
            </p>
          </div>
          <div class="sidebar-module">
            <h4>Tags</h4>
            <ol class="list-unstyled">
               <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/computational-science.html">computational science</a></li>

<li><a href="/tags/computer-aided-research.html">computer-aided research</a></li>

<li><a href="/tags/proteins.html">proteins</a></li>

<li><a href="/tags/python.html">python</a></li>

<li><a href="/tags/reproducible-research.html">reproducible research</a></li>

<li><a href="/tags/science.html">science</a></li>

<li><a href="/tags/scientific-computing.html">scientific computing</a></li>

<li><a href="/tags/scientific-software.html">scientific software</a></li>

<li><a href="/tags/sustainable-software.html">sustainable software</a></li>
            </ol>
          </div>
          <div class="sidebar-module">
            <h4>Find me elsewhere</h4>
            <ol class="list-unstyled">
              <li><a href="http://khinsen.net">Home Page</a></li>
              <li><a href="http://twitter.com/khinsen/">Twitter</a></li>
              <li><a href="http://github.com/khinsen/">GitHub</a></li>
              <li><a href="http://bitbucket.org/khinsen">Bitbucket</a></li>
              <li><a href="http://orcid.org/0000-0003-0330-9428">ORCID</a></li>               <li><a href="http://www.researchgate.net/profile/Konrad_Hinsen">ResearchGate</a></li>

            </ol>
          </div>
        </div><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </div><!-- /.container -->

    <footer class="blog-footer">
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>